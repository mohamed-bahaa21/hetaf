
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Palestine</title>

    <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh; /* Set the height of the body to the full viewport height */
      margin: 0; /* Remove default margin */
    }

    #displayText {
      text-align: center;
      font-family: 'Helvetica Neue', 'sans-serif';
      font-size: 50px;
      font-weight: bold;
      letter-spacing: -1px;
      line-height: 1; 
    }
  </style>

<script type="text/javascript" src="https://tiiny.host/ad-script.js"></script><script defer data-domain="fp.tiiny.site" src="https://analytics.tiiny.site/js/plausible.js"></script></head>

<body>

  

  <p id="displayText"></p>

  <script>
    let hetafs = [
        {
            text: "Text 1",
            time: 4,
            startTime: 0,
            endTime: 4
        },
        {
            text: "Text 2",
            time: 4,
            startTime: 4,
            endTime: 8
        },
        {
          text: "Text 3",
          time: 4,
          startTime: 8,
          endTime: 12
        },
        {
          text: "Text 4",
          time: 6,
          startTime: 12,
          endTime: 18
        },
        {
          text: "Text 5",
          time: 5,
          startTime: 18,
          endTime: 23
        },
        {
          text: "Text 6",
          time: 12,
          startTime: 23,
          endTime: 35
        },
    ]


    let currentHetaf = undefined;

    function getCurrentHetaf() {
        let currentTime = Date.now();
        let startTime = new Date('2023-10-07').getSeconds(); //october7th
        let lastHetaf = hetafs[hetafs.length-1];
        let totalTime = lastHetaf.endTime;
        let diff = (currentTime - startTime) % (totalTime);
        console.log(diff); // 2

        hetafs.forEach((hetaf, index) => {
          console.log("hetaf.startTime: ", hetaf.startTime);
          console.log("diff: ", diff);
          console.log("hetaf.endTime: ", hetaf.endTime);
          console.log("===============================");

          if(hetaf.startTime <= diff) {
            if (hetaf.endTime > diff) {
              console.log(hetaf);
              currentHetaf = hetaf;
            }
          }
        });

        return Error("Couldn't find any hetaf...");
    }

    getCurrentHetaf();
    console.log(currentHetaf);
    const displayParagraph = document.getElementById('displayText');

    function displayText() {
      setTimeout(() => {
        getCurrentHetaf();
        displayParagraph.textContent = currentHetaf.text;
        displayText();
      },currentHetaf.time*1000);
    }

    displayText();
    
  </script>

</body>
</html>